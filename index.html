<!DOCTYPE html>
<html>
<head>
<title>Colorado State Demography Office Home Page</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- FONT AWESOME CSS  Source for buttons the list of icons is here: https://fontawesome.com/icons?d=gallery&p=2 -->
<!-- angle-down, angle-double-down, angle-circle-down, angle-right, angle-circle-right, the new button is in common.css --> 
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
<!-- SDO CSS -->
<link type="text/css" rel="stylesheet" href="./assets/css/common.css" async=""> 

<!-- adding d3.js  for data manipulation-->
 <script src="https://d3js.org/d3.v6.min.js"></script>
<!-- SDO suport functions, genSYA, insertHTML, -->
<script src="./assets/js/funct.js"></script>
</head>

<body>

<div class="alert__bar--covid-19" style="text-color:black;font-size:12px;">
    <h2 style="background-color:#8fc6e8;text-align:center;">
      Visit <a href="https://covid19.colorado.gov/for-coloradans/vaccine/where-can-i-get-vaccinated">"Where can I get vaccinated"</a> or call 1-877-COVAXCO (1-877-268-2926) for vaccine information.
    </h2>
</div>    
<a href="https://cdola.colorado.gov/"><img class="logoSDO" src="./assets/img/SDO-1600x400.jpg" alt="Department of Local Affairs Homepage"></a>
</div>
<div id="header-name">
<nav id="top-navigation-wrapper" style="display: block;">
<ul class="horiz">
<li class="horiz_item"> </li>
<li class="horiz_item"> <a href="https://cdola.colorado.gov/assessment-appeals">Assessment Appeals</a></li>
<li class="horiz_item"><a href="https://cdola.colorado.gov/housing">Housing</a></li>
<li class="horiz_item"> <a href="https://cdola.colorado.gov/local-government">Local Government</a></li>
<li class="horiz_item"> <a href="https://cdola.colorado.gov/property-taxation">Property Taxation</a></li>
</ul>
</nav>
</div>
<!-- First Grid, linked images -->
<div class="grid-container">
  <div class="grid-item panel_1_1">
		<div w3-include-html="./assets/html/sdotitle.html"></div>  
  </div>
  <div class="grid-item panel_2_1" id="leftHand">
  <a href='./assets/html/tutorial.html' >SDO Website Tutorials</a><br>
  <a href="https://gis.dola.colorado.gov/">SDO Legacy Website (pre 1/2022)</a><br>
	<div w3-include-html="./assets/html/left_hand_index.html"></div>
  </div> <!-- Grid  panel_2_1 -->

  <div class="grid-item panel_2_2">
	 <label for="county-dropdown">Select County:</label>
	 <select class="county-dropdown" id="county-dropdown"></select>
 </div>
 <div class="grid-item panel_3_2">
     <div id="PopTab"></div>
	 <div id="COCTab"></div>
	  <div id="RaceTab"></div>
   </div>
   <div class="grid-item panel_3_3">
	 <div id="HousTab"></div>
	 <div id="TenureTab"></div>
   </div>
   <div class="grid-item panel_3_4">
	 <div id="ACSTab"></div>
   </div>

<div class="grid-item panel_4_2">
			<div w3-include-html="./assets/html/bodycontent1.html"></div>
	 </div>
	<div class="grid-item panel_4_3">
			<div w3-include-html="./assets/html/bodycontent2.html"></div>
    </div>
	<div class="grid-item panel_4_4">
			<div w3-include-html="./assets/html/bodycontent3.html"></div>
	</div>
</div>  <!-- End Grid -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W27DQ8VRCX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-W27DQ8VRCX');
</script>
<script>
//Setting HTML include and Accordion
includeHTML(); 

/* Populate County Dropdown */
popDropdown('county','county-dropdown')

//generating maximum year value for estimates

var urlstr = "https://gis.dola.colorado.gov/lookups/componentYRS";
d3.json(urlstr).then(function(yeardata){
    var maxest = yeardata.filter(function(d){return d.datatype == 'Estimate'});
	var yrsList = maxest.map(function(d){return d.year;});
    var yrvalue = d3.max(yrsList) 
	var acsyr = 2019;  ///CHANGE THIS WHEN 2020 ACS is available
	
//Generate Initial Tables
genSYA("000",yrvalue);
genCOC("000",yrvalue);
genACS("000",acsyr);
genTenure("000",acsyr);
genRaceEth("000",yrvalue);
genHousing("000",yrvalue);


d3.select("#county-dropdown").on("change", function(d,i) {

        var selectedfips = d3.select("#county-dropdown").property('value');
		var selectedcounty = d3.select('#county-dropdown option:checked').text();
		
        genSYA(selectedfips,yrvalue);
		genCOC(selectedfips,yrvalue);
		genACS(selectedfips,acsyr);
		genTenure(selectedfips,acsyr);
		genHousing(selectedfips,yrvalue);
    });
}); //end of maximum year value

 </script>

</body>
</html> 